/* File Location: Playground/ComSci-Projects/A6-Final/style.css */

/* --- Font Loading --- */
/* (Keep your corrected @font-face rules using format('truetype')) */
@font-face {
    font-family: 'Montserrat';
    src: url('../../fonts/Montserrat-Regular.ttf') format('truetype');
    font-weight: 400; font-style: normal; font-display: swap;
}
/* ... other font faces ... */
@font-face {
    font-family: 'Roboto Mono';
    src: url('../../fonts/RobotoMono-Medium.ttf') format('truetype');
    font-weight: 500; font-style: normal; font-display: swap;
}

/* --- CSS Variables --- */
:root {
    /* ... (Keep ALL previous variables: fonts, colors, layout etc.) ... */
     --blur-height: 180px; /* Height of the blur effect area */
     --blur-intensity: 12px; /* Adjust blur amount */
     --blur-fade-distance: 70%; /* How far the blur fades out (percentage of blur height) */
}

/* --- Base Styles --- */
*, *::before, *::after { box-sizing: border-box; }
html { scroll-behavior: smooth; }
body {
    /* ... (Keep existing body styles: font, color, background, margin, etc.) ... */
    padding-top: 110px;
    padding-bottom: 160px;
    position: relative; /* Still needed */
    overflow-x: hidden;
    line-height: 1.6;
}

/* --- Color Gradients ONLY (No Blur Here) --- */
body::before, body::after {
    content: '';
    position: fixed;
    left: 0; right: 0;
    height: calc(var(--blur-height) * 1.2); /* Make gradient slightly taller than blur */
    z-index: 2; /* Below blur overlays, title, and progress bar */
    pointer-events: none;
    /* REMOVE backdrop-filter from here */
}
body::before {
    top: 0;
    background: linear-gradient(to bottom, var(--gradient-top-start), transparent 95%); /* Fade out gradient */
}
body::after {
    bottom: 0;
    background: linear-gradient(to top, var(--gradient-bottom-start), transparent 95%); /* Fade out gradient */
}

/* --- NEW: Blur Overlays --- */
.blur-overlay {
    position: fixed;
    left: 0;
    right: 0;
    height: var(--blur-height);
    z-index: 3; /* Above gradients and timeline, below title/progress */
    pointer-events: none; /* Allow interaction with content below */
    backdrop-filter: blur(var(--blur-intensity));
    -webkit-backdrop-filter: blur(var(--blur-intensity));
    /* Mask to create progressive blur */
    -webkit-mask-repeat: no-repeat;
            mask-repeat: no-repeat;
}
.blur-overlay.top {
    top: 0;
    /* Mask fades from opaque (blur visible) at top to transparent (no blur) */
    -webkit-mask-image: linear-gradient(to bottom, black 0%, black var(--blur-fade-distance), transparent 100%);
            mask-image: linear-gradient(to bottom, black 0%, black var(--blur-fade-distance), transparent 100%);
}
.blur-overlay.bottom {
    bottom: 0;
    /* Mask fades from opaque (blur visible) at bottom to transparent (no blur) */
    -webkit-mask-image: linear-gradient(to top, black 0%, black var(--blur-fade-distance), transparent 100%);
            mask-image: linear-gradient(to top, black 0%, black var(--blur-fade-distance), transparent 100%);
}


/* --- Typography --- */
h1#main-title {
    /* ... (Keep existing title styles) ... */
    position: relative; /* Needed for z-index */
    z-index: 4; /* Above top blur overlay */
}
/* ... (Keep loading/error message styles) ... */


/* --- Timeline Container & Axis --- */
#timeline-container {
    position: relative; /* Still needed for absolute items */
    /* ... (Keep existing styles: max-width, margin, padding, min-height) ... */
    z-index: 1; /* Below gradients and blur */
}
#timeline-container::before { /* Vertical axis */
    /* ... (Keep existing axis styles) ... */
    z-index: 0; /* Behind items */
}

/* --- Timeline Item --- */
.timeline-item {
    /* ... (Keep existing item styles: position: absolute, width, display, top set by JS) ... */
    z-index: 1; /* Ensure items are above axis but below blur */
}
/* ... (Keep left/right positioning styles) ... */

/* --- Timeline Marker (Dot) & SVG Connector --- */
.timeline-marker {
     /* ... (Keep existing marker styles: position, top, size, bg, radius, shadow) ... */
     z-index: 2; /* Above axis, below card */
}
.connector-line {
    /* ... (Keep existing SVG styles: position, overflow, z-index, pointer-events) ... */
    z-index: 1; /* Below marker, above axis */
}
.connector-line path {
     /* ... (Keep existing path styles: stroke, stroke-width, fill) ... */
}

/* --- Timeline Card Styling --- */
.timeline-card {
    /* ... (Keep existing card styles: background, radius, shadow, padding, width, display, gap, height, etc.) ... */
    position: relative; /* Ensure card content is stacked correctly */
    z-index: 2; /* Above connector line/marker shadow */
}
/* ... (Keep left/right card alignment) ... */

/* --- Card Image --- */
/* ... (Keep existing image styles) ... */

/* --- Card Content --- */
/* ... (Keep existing content styles, including truncation) ... */


/* --- Progress Bar --- */
#progress-bar {
    /* ... (Keep existing progress bar styles: position, bottom, left, transform, background, radius, padding, shadow, display, etc.) ... */
    z-index: 10; /* Highest: above bottom blur overlay */
    backdrop-filter: blur(12px); /* Keep its own blur */
    -webkit-backdrop-filter: blur(12px);
}
/* ... (Keep existing progress bar inner element styles) ... */


/* --- Responsive Adjustments --- */
@media (max-width: 800px) {
    /* ... (Keep existing responsive rules, ensure .timeline-item position becomes relative again) ... */
    .timeline-item {
        position: relative !important; /* Back to relative flow */
        top: auto !important; left: 0 !important;
        /* ... other mobile item styles ... */
    }
     /* Optionally hide blur overlays on mobile if performance is a concern or design changes */
    /*
    .blur-overlay {
        display: none;
    }
    */
}
/* ... (Keep other mobile styles) ... */
